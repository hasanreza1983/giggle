<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: jsjac.jingle.peer.js</title>
    
    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">
    
    <h1 class="page-title">Source: jsjac.jingle.peer.js</h1>
    
    


    
    <section>
        <article>
            <pre class="prettyprint source"><code>/**
 * @fileoverview JSJaC Jingle library - Peer API lib
 *
 * @url https://github.com/valeriansaliou/jsjac-jingle
 * @depends https://github.com/sstrigler/JSJaC
 * @author ValÃ©rian Saliou https://valeriansaliou.name/
 * @license Mozilla Public License v2.0 (MPL v2.0)
 */


/**
 * Peer helpers class
 * @class Peer helpers class
 * @constructor
 * @param {object} parent Parent class.
 */
var JSJaCJinglePeer = ring.create({
  /**
   * Constructor
   */
  constructor: function(parent) {
    this.parent = parent;
  },

  /**
   * Creates a new peer connection
   */
  connection_create: function(sdp_message_callback) {
    this.parent.get_debug().log('[JSJaCJingle:peer] connection_create', 4);

    try {
      // Log STUN servers in use
      var i;
      var ice_config = this.parent.utils.config_ice();

      if(typeof ice_config.iceServers == 'object') {
        for(i = 0; i &lt; (ice_config.iceServers).length; i++)
          this.parent.get_debug().log('[JSJaCJingle:peer] connection_create > Using ICE server at: ' + ice_config.iceServers[i].url + ' (' + (i + 1) + ').', 2);
      } else {
        this.parent.get_debug().log('[JSJaCJingle:peer] connection_create > No ICE server configured. Network may not work properly.', 0);
      }

      // Create the RTCPeerConnection object
      this.parent.set_peer_connection(
        new WEBRTC_PEER_CONNECTION(
          ice_config,
          WEBRTC_CONFIGURATION.peer_connection.constraints
        )
      );

      // Event: onicecandidate
      var _this = this;

      this.parent.get_peer_connection().onicecandidate = function(e) {
        if(e.candidate) {
          _this.parent.sdp.parse_candidate_store({
            media     : (isNaN(e.candidate.sdpMid) ? e.candidate.sdpMid : _this.parent.utils.media_generate(parseInt(e.candidate.sdpMid, 10))),
            candidate : e.candidate.candidate
          });
        } else {
          // Build or re-build content (local)
          _this.parent.utils.build_content_local();

          // In which action stanza should candidates be sent?
          if((_this.parent.is_initiator() && _this.parent.get_status() == JSJAC_JINGLE_STATUS_INITIATING)  ||
             (_this.parent.is_responder() && _this.parent.get_status() == JSJAC_JINGLE_STATUS_ACCEPTING)) {
            _this.parent.get_debug().log('[JSJaCJingle:peer] connection_create > onicecandidate > Got initial candidates.', 2);

            // Execute what's next (initiate/accept session)
            sdp_message_callback();
          } else {
            _this.parent.get_debug().log('[JSJaCJingle:peer] connection_create > onicecandidate > Got more candidates (on the go).', 2);

            // Send unsent candidates
            var candidates_queue_local = _this.parent.get_candidates_queue_local();

            if(_this.parent.utils.object_length(candidates_queue_local) > 0)
              _this.send(JSJAC_JINGLE_STANZA_TYPE_SET, { action: JSJAC_JINGLE_ACTION_TRANSPORT_INFO, candidates: candidates_queue_local });
          }

          // Empty the unsent candidates queue
          _this.parent.set_candidates_queue_local(null);
        }
      };

      // Event: oniceconnectionstatechange
      this.parent.get_peer_connection().oniceconnectionstatechange = function(e) {
        _this.parent.get_debug().log('[JSJaCJingle:peer] connection_create > oniceconnectionstatechange', 2);

        // Connection errors?
        switch(this.iceConnectionState) {
          case 'disconnected':
            _this.timeout(this.iceConnectionState, {
              timer  : JSJAC_JINGLE_PEER_TIMEOUT_DISCONNECT,
              reason : JSJAC_JINGLE_REASON_CONNECTIVITY_ERROR
            });
            break;

          case 'checking':
            _this.timeout(this.iceConnectionState); break;
        }

        _this.parent.get_debug().log('[JSJaCJingle:peer] connection_create > oniceconnectionstatechange > (state: ' + this.iceConnectionState + ').', 2);
      };

      // Event: onaddstream
      this.parent.get_peer_connection().onaddstream = function(e) {
        if (!e) return;

        _this.parent.get_debug().log('[JSJaCJingle:peer] connection_create > onaddstream', 2);

        // Attach remote stream to DOM view
        _this.parent.set_remote_stream(e.stream);
      };

      // Event: onremovestream
      this.parent.get_peer_connection().onremovestream = function(e) {
        _this.parent.get_debug().log('[JSJaCJingle:peer] connection_create > onremovestream', 2);

        // Detach remote stream from DOM view
        _this.parent.set_remote_stream(null);
      };

      // Add local stream
      this.parent.get_peer_connection().addStream(this.parent.get_local_stream()); 

      // Create offer
      this.parent.get_debug().log('[JSJaCJingle:peer] connection_create > Getting local description...', 2);

      if(this.parent.is_initiator()) {
        // Local description
        this.parent.get_peer_connection().createOffer(
          this.got_description.bind(this),
          this.fail_description.bind(this),
          WEBRTC_CONFIGURATION.create_offer
        );

        // Then, wait for responder to send back its remote description
      } else {
        // Apply SDP data
        sdp_remote = this.parent.sdp.generate(
          WEBRTC_SDP_TYPE_OFFER,
          this.parent.get_group_remote(),
          this.parent.get_payloads_remote(),
          this.parent.get_candidates_queue_remote()
        );

        if(this.parent.get_sdp_trace())  this.parent.get_debug().log('[JSJaCJingle:peer] SDP (remote)' + '\n\n' + sdp_remote.description.sdp, 4);

        // Remote description
        this.parent.get_peer_connection().setRemoteDescription(
          (new WEBRTC_SESSION_DESCRIPTION(sdp_remote.description)),

          function() {
            // Success (descriptions are compatible)
          },

          function(e) {
            if(_this.parent.get_sdp_trace())  _this.parent.get_debug().log('[JSJaCJingle:peer] SDP (remote:error)' + '\n\n' + (e.message || e.name || 'Unknown error'), 4);

            // Error (descriptions are incompatible)
            _this.parent.terminate(JSJAC_JINGLE_REASON_INCOMPATIBLE_PARAMETERS);
          }
        );

        // Local description
        this.parent.get_peer_connection().createAnswer(
          this.got_description.bind(this),
          this.fail_description.bind(this),
          WEBRTC_CONFIGURATION.create_answer
        );

        // ICE candidates
        var c;
        var cur_candidate_obj;

        for(c in sdp_remote.candidates) {
          cur_candidate_obj = sdp_remote.candidates[c];

          this.parent.get_peer_connection().addIceCandidate(
            new WEBRTC_ICE_CANDIDATE({
              sdpMLineIndex : cur_candidate_obj.id,
              candidate     : cur_candidate_obj.candidate
            })
          );
        }

        // Empty the unapplied candidates queue
        this.parent.set_candidates_queue_remote(null);
      }
    } catch(e) {
      this.parent.get_debug().log('[JSJaCJingle:peer] connection_create > ' + e, 1);
    }
  },

  /**
   * Requests the user media (audio/video)
   */
  get_user_media: function(callback) {
    this.parent.get_debug().log('[JSJaCJingle:peer] get_user_media', 4);

    try {
      this.parent.get_debug().log('[JSJaCJingle:peer] get_user_media > Getting user media...', 2);

      (WEBRTC_GET_MEDIA.bind(navigator))(
        this.parent.utils.generate_constraints(),
        this.got_user_media_success.bind(this, callback),
        this.got_user_media_error.bind(this)
      );
    } catch(e) {
      this.parent.get_debug().log('[JSJaCJingle:peer] get_user_media > ' + e, 1);
    }
  },

  /**
   * Triggers the media obtained success event
   */
  got_user_media_success: function(callback, stream) {
    this.parent.get_debug().log('[JSJaCJingle:peer] got_user_media_success', 4);

    try {
      this.parent.get_debug().log('[JSJaCJingle:peer] got_user_media_success > Got user media.', 2);

      this.parent.set_local_stream(stream);

      if(callback && typeof callback == 'function') {
        if((this.parent.get_media() == JSJAC_JINGLE_MEDIA_VIDEO) && this.parent.get_local_view().length) {
          this.parent.get_debug().log('[JSJaCJingle:peer] got_user_media_success > Waiting for local video to be loaded...', 2);

          var _this = this;

          var fn_loaded = function() {
            _this.parent.get_debug().log('[JSJaCJingle:peer] got_user_media_success > Local video loaded.', 2);

            this.removeEventListener('loadeddata', fn_loaded, false);
            callback();
          };

          _this.parent.get_local_view()[0].addEventListener('loadeddata', fn_loaded, false);
        } else {
          callback();
        }
      }
    } catch(e) {
      this.parent.get_debug().log('[JSJaCJingle:peer] got_user_media_success > ' + e, 1);
    }
  },

  /**
   * Triggers the media not obtained error event
   */
  got_user_media_error: function(error) {
    this.parent.get_debug().log('[JSJaCJingle:peer] got_user_media_error', 4);

    try {
      (this.parent.get_session_initiate_error())(this);

      // Not needed in case we are the responder (breaks termination)
      if(this.parent.is_initiator()) this.parent.handle_session_initiate_error();

      // Not needed in case we are the initiator (no packet sent, ever)
      if(this.parent.is_responder()) this.parent.terminate(JSJAC_JINGLE_REASON_MEDIA_ERROR);

      this.parent.get_debug().log('[JSJaCJingle:peer] got_user_media_error > Failed (' + (error.PERMISSION_DENIED ? 'permission denied' : 'unknown' ) + ').', 1);
    } catch(e) {
      this.parent.get_debug().log('[JSJaCJingle:peer] got_user_media_error > ' + e, 1);
    }
  },

  /**
   * Triggers the SDP description retrieval success event
   */
  got_description: function(sdp_local) {
    this.parent.get_debug().log('[JSJaCJingle:peer] got_description', 4);

    try {
      this.parent.get_debug().log('[JSJaCJingle:peer] got_description > Got local description.', 2);

      if(this.parent.get_sdp_trace())  this.parent.get_debug().log('[JSJaCJingle:peer] SDP (local:raw)' + '\n\n' + sdp_local.sdp, 4);

      // Convert SDP raw data to an object
      var cur_name;
      var payload_parsed = this.parent.sdp.parse_payload(sdp_local.sdp);
      this.parent.sdp.resolution_payload(payload_parsed);

      for(cur_name in payload_parsed) {
        this.parent.set_payloads_local(
          cur_name,
          payload_parsed[cur_name]
        );
      }

      var cur_semantics;
      var group_parsed = this.parent.sdp.parse_group(sdp_local.sdp);

      for(cur_semantics in group_parsed) {
        this.parent.set_group_local(
          cur_semantics,
          group_parsed[cur_semantics]
        );
      }

      // Filter our local description (remove unused medias)
      var sdp_local_desc = this.parent.sdp.generate_description(
        sdp_local.type,
        this.parent.get_group_local(),
        this.parent.get_payloads_local(),

        this.parent.sdp.generate_candidates(
          this.parent.get_candidates_local()
        )
      );

      if(this.parent.get_sdp_trace())  this.parent.get_debug().log('[JSJaCJingle:peer] SDP (local:gen)' + '\n\n' + sdp_local_desc.sdp, 4);

      var _this = this;

      this.parent.get_peer_connection().setLocalDescription(
        (new WEBRTC_SESSION_DESCRIPTION(sdp_local_desc)),

        function() {
          // Success (descriptions are compatible)
        },

        function(e) {
          if(_this.parent.get_sdp_trace())  _this.parent.get_debug().log('[JSJaCJingle:peer] SDP (local:error)' + '\n\n' + (e.message || e.name || 'Unknown error'), 4);

          // Error (descriptions are incompatible)
        }
      );

      this.parent.get_debug().log('[JSJaCJingle:peer] got_description > Waiting for local candidates...', 2);
    } catch(e) {
      this.parent.get_debug().log('[JSJaCJingle:peer] got_description > ' + e, 1);
    }
  },

  /**
   * Triggers the SDP description not retrieved error event
   */
  fail_description: function() {
    this.parent.get_debug().log('[JSJaCJingle:peer] fail_description', 4);

    try {
      this.parent.get_debug().log('[JSJaCJingle:peer] fail_description > Could not get local description!', 1);
    } catch(e) {
      this.parent.get_debug().log('[JSJaCJingle:peer] fail_description > ' + e, 1);
    }
  },

  /**
   * Enables/disables the local stream sound
   */
  sound: function(enable) {
    this.parent.get_debug().log('[JSJaCJingle:peer] sound', 4);

    try {
      this.parent.get_debug().log('[JSJaCJingle:peer] sound > Enable: ' + enable + ' (current: ' + this.parent.get_mute(JSJAC_JINGLE_MEDIA_AUDIO) + ').', 2);

      var i;
      var audio_tracks = this.parent.get_local_stream().getAudioTracks();

      for(i = 0; i &lt; audio_tracks.length; i++)
        audio_tracks[i].enabled = enable;
    } catch(e) {
      this.parent.get_debug().log('[JSJaCJingle:peer] sound > ' + e, 1);
    }
  },

  /**
   * Set a timeout limit to peer connection
   */
  timeout: function(state, args) {
    try {
      // Assert
      if(typeof args !== 'object') args = {};

      var t_sid = this.parent.get_sid();

      var _this = this;

      setTimeout(function() {
        // State did not change?
        if(_this.parent.get_sid() == t_sid && _this.parent.get_peer_connection().iceConnectionState == state) {
          _this.parent.get_debug().log('[JSJaCJingle:peer] stanza_timeout > Peer timeout.', 2);

          // Error (transports are incompatible)
          _this.parent.terminate(args.reason || JSJAC_JINGLE_REASON_FAILED_TRANSPORT);
        }
      }, ((args.timer || JSJAC_JINGLE_PEER_TIMEOUT_DEFAULT) * 1000));
    } catch(e) {
      this.parent.get_debug().log('[JSJaCJingle:peer] timeout > ' + e, 1);
    }
  },

  /**
   * Stops ongoing peer connections
   */
  stop: function() {
    this.parent.get_debug().log('[JSJaCJingle:peer] stop', 4);

    // Detach media streams from DOM view
    this.parent.set_local_stream(null);
    this.parent.set_remote_stream(null);

    // Close the media stream
    if(this.parent.get_peer_connection())
      this.parent.get_peer_connection().close();

    // Remove this session from router
    JSJaCJingle.remove(this.parent.get_sid());
  },

  /**
   * Attaches given stream to given DOM element
   */
  stream_attach: function(element, stream, mute) {
    try {
      var i;
      var stream_src = stream ? URL.createObjectURL(stream) : '';

      for(i in element) {
        element[i].src = stream_src;

        if(navigator.mozGetUserMedia)
          element[i].play();
        else
          element[i].autoplay = true;

        if(typeof mute == 'boolean') element[i].muted = mute;
      }
    } catch(e) {
      this.parent.get_debug().log('[JSJaCJingle:peer] stream_attach > ' + e, 1);
    }
  },

  /**
   * Detaches stream from given DOM element
   */
  stream_detach: function(element) {
    try {
      var i;

      for(i in element) {
        element[i].pause();
        element[i].src = '';
      }
    } catch(e) {
      this.parent.get_debug().log('[JSJaCJingle:peer] stream_detach > ' + e, 1);
    }
  },
});
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Index</a></h2><h3>Classes</h3><ul><li><a href="__JSJaCJingleBase.html">__JSJaCJingleBase</a></li><li><a href="JSJaCJingleMuji.html">JSJaCJingleMuji</a></li><li><a href="JSJaCJinglePeer.html">JSJaCJinglePeer</a></li><li><a href="JSJaCJingleSDP.html">JSJaCJingleSDP</a></li><li><a href="JSJaCJingleSingle.html">JSJaCJingleSingle</a></li><li><a href="JSJaCJingleUtils.html">JSJaCJingleUtils</a></li></ul><h3>Global</h3><ul><li><a href="global.html#_add_remote_view">_add_remote_view</a></li><li><a href="global.html#_bandwidth">_bandwidth</a></li><li><a href="global.html#_candidates_local">_candidates_local</a></li><li><a href="global.html#_candidates_queue_local">_candidates_queue_local</a></li><li><a href="global.html#_candidates_queue_remote">_candidates_queue_remote</a></li><li><a href="global.html#_candidates_remote">_candidates_remote</a></li><li><a href="global.html#_content_local">_content_local</a></li><li><a href="global.html#_content_remote">_content_remote</a></li><li><a href="global.html#_creator">_creator</a></li><li><a href="global.html#_debug">_debug</a></li><li><a href="global.html#_fps">_fps</a></li><li><a href="global.html#_group_local">_group_local</a></li><li><a href="global.html#_group_remote">_group_remote</a></li><li><a href="global.html#_handlers">_handlers</a></li><li><a href="global.html#_id">_id</a></li><li><a href="global.html#_initiator">_initiator</a></li><li><a href="global.html#_local_stream">_local_stream</a></li><li><a href="global.html#_local_view">_local_view</a></li><li><a href="global.html#_lock">_lock</a></li><li><a href="global.html#_media">_media</a></li><li><a href="global.html#_media_busy">_media_busy</a></li><li><a href="global.html#_mute">_mute</a></li><li><a href="global.html#_name">_name</a></li><li><a href="global.html#_net_trace">_net_trace</a></li><li><a href="global.html#_payloads_local">_payloads_local</a></li><li><a href="global.html#_payloads_remote">_payloads_remote</a></li><li><a href="global.html#_peer_connection">_peer_connection</a></li><li><a href="global.html#_reason">_reason</a></li><li><a href="global.html#_received_id">_received_id</a></li><li><a href="global.html#_remote_stream">_remote_stream</a></li><li><a href="global.html#_remote_view">_remote_view</a></li><li><a href="global.html#_remove_remote_view">_remove_remote_view</a></li><li><a href="global.html#_resolution">_resolution</a></li><li><a href="global.html#_responder">_responder</a></li><li><a href="global.html#_sdp_trace">_sdp_trace</a></li><li><a href="global.html#_senders">_senders</a></li><li><a href="global.html#_sent_id">_sent_id</a></li><li><a href="global.html#_session_accept_error">_session_accept_error</a></li><li><a href="global.html#_session_accept_pending">_session_accept_pending</a></li><li><a href="global.html#_session_accept_request">_session_accept_request</a></li><li><a href="global.html#_session_accept_success">_session_accept_success</a></li><li><a href="global.html#_session_info_error">_session_info_error</a></li><li><a href="global.html#_session_info_request">_session_info_request</a></li><li><a href="global.html#_session_info_success">_session_info_success</a></li><li><a href="global.html#_session_initiate_error">_session_initiate_error</a></li><li><a href="global.html#_session_initiate_pending">_session_initiate_pending</a></li><li><a href="global.html#_session_initiate_request">_session_initiate_request</a></li><li><a href="global.html#_session_initiate_success">_session_initiate_success</a></li><li><a href="global.html#_session_terminate_error">_session_terminate_error</a></li><li><a href="global.html#_session_terminate_pending">_session_terminate_pending</a></li><li><a href="global.html#_session_terminate_request">_session_terminate_request</a></li><li><a href="global.html#_session_terminate_success">_session_terminate_success</a></li><li><a href="global.html#_sid">_sid</a></li><li><a href="global.html#_status">_status</a></li><li><a href="global.html#_stun">_stun</a></li><li><a href="global.html#_to">_to</a></li><li><a href="global.html#_turn">_turn</a></li><li><a href="global.html#_video_source">_video_source</a></li><li><a href="global.html#accept">accept</a></li><li><a href="global.html#add">add</a></li><li><a href="global.html#array_remove_value">array_remove_value</a></li><li><a href="global.html#browser">browser</a></li><li><a href="global.html#build_content_local">build_content_local</a></li><li><a href="global.html#build_content_remote">build_content_remote</a></li><li><a href="global.html#config_ice">config_ice</a></li><li><a href="global.html#connection_create">connection_create</a></li><li><a href="global.html#connection_jid">connection_jid</a></li><li><a href="global.html#constructor">constructor</a></li><li><a href="global.html#defer">defer</a></li><li><a href="global.html#disco">disco</a></li><li><a href="global.html#extdisco">extdisco</a></li><li><a href="global.html#fail_description">fail_description</a></li><li><a href="global.html#fallback">fallback</a></li><li><a href="global.html#generate">generate</a></li><li><a href="global.html#generate_candidates">generate_candidates</a></li><li><a href="global.html#generate_constraints">generate_constraints</a></li><li><a href="global.html#generate_content">generate_content</a></li><li><a href="global.html#generate_credentials">generate_credentials</a></li><li><a href="global.html#generate_description">generate_description</a></li><li><a href="global.html#generate_description_media">generate_description_media</a></li><li><a href="global.html#generate_hash_md5">generate_hash_md5</a></li><li><a href="global.html#generate_id">generate_id</a></li><li><a href="global.html#generate_origin">generate_origin</a></li><li><a href="global.html#generate_protocol_version">generate_protocol_version</a></li><li><a href="global.html#generate_session_name">generate_session_name</a></li><li><a href="global.html#generate_sid">generate_sid</a></li><li><a href="global.html#generate_timing">generate_timing</a></li><li><a href="global.html#generate_transport">generate_transport</a></li><li><a href="global.html#get_add_remote_view">get_add_remote_view</a></li><li><a href="global.html#get_bandwidth">get_bandwidth</a></li><li><a href="global.html#get_candidates_local">get_candidates_local</a></li><li><a href="global.html#get_candidates_queue_local">get_candidates_queue_local</a></li><li><a href="global.html#get_candidates_queue_remote">get_candidates_queue_remote</a></li><li><a href="global.html#get_candidates_remote">get_candidates_remote</a></li><li><a href="global.html#get_content_local">get_content_local</a></li><li><a href="global.html#get_content_remote">get_content_remote</a></li><li><a href="global.html#get_creator">get_creator</a></li><li><a href="global.html#get_creator_this">get_creator_this</a></li><li><a href="global.html#get_debug">get_debug</a></li><li><a href="global.html#get_fps">get_fps</a></li><li><a href="global.html#get_group_local">get_group_local</a></li><li><a href="global.html#get_group_remote">get_group_remote</a></li><li><a href="global.html#get_handlers">get_handlers</a></li><li><a href="global.html#get_id">get_id</a></li><li><a href="global.html#get_id_new">get_id_new</a></li><li><a href="global.html#get_id_pre">get_id_pre</a></li><li><a href="global.html#get_initiator">get_initiator</a></li><li><a href="global.html#get_local_stream">get_local_stream</a></li><li><a href="global.html#get_local_view">get_local_view</a></li><li><a href="global.html#get_lock">get_lock</a></li><li><a href="global.html#get_media">get_media</a></li><li><a href="global.html#get_media_all">get_media_all</a></li><li><a href="global.html#get_media_busy">get_media_busy</a></li><li><a href="global.html#get_mute">get_mute</a></li><li><a href="global.html#get_name">get_name</a></li><li><a href="global.html#get_net_trace">get_net_trace</a></li><li><a href="global.html#get_payloads_local">get_payloads_local</a></li><li><a href="global.html#get_payloads_remote">get_payloads_remote</a></li><li><a href="global.html#get_peer_connection">get_peer_connection</a></li><li><a href="global.html#get_reason">get_reason</a></li><li><a href="global.html#get_received_id">get_received_id</a></li><li><a href="global.html#get_remote_stream">get_remote_stream</a></li><li><a href="global.html#get_remote_view">get_remote_view</a></li><li><a href="global.html#get_remove_remote_view">get_remove_remote_view</a></li><li><a href="global.html#get_resolution">get_resolution</a></li><li><a href="global.html#get_responder">get_responder</a></li><li><a href="global.html#get_sdp_trace">get_sdp_trace</a></li><li><a href="global.html#get_senders">get_senders</a></li><li><a href="global.html#get_sent_id">get_sent_id</a></li><li><a href="global.html#get_session_accept_error">get_session_accept_error</a></li><li><a href="global.html#get_session_accept_pending">get_session_accept_pending</a></li><li><a href="global.html#get_session_accept_request">get_session_accept_request</a></li><li><a href="global.html#get_session_accept_success">get_session_accept_success</a></li><li><a href="global.html#get_session_info_error">get_session_info_error</a></li><li><a href="global.html#get_session_info_request">get_session_info_request</a></li><li><a href="global.html#get_session_info_success">get_session_info_success</a></li><li><a href="global.html#get_session_initiate_error">get_session_initiate_error</a></li><li><a href="global.html#get_session_initiate_pending">get_session_initiate_pending</a></li><li><a href="global.html#get_session_initiate_request">get_session_initiate_request</a></li><li><a href="global.html#get_session_initiate_success">get_session_initiate_success</a></li><li><a href="global.html#get_session_terminate_error">get_session_terminate_error</a></li><li><a href="global.html#get_session_terminate_pending">get_session_terminate_pending</a></li><li><a href="global.html#get_session_terminate_request">get_session_terminate_request</a></li><li><a href="global.html#get_session_terminate_success">get_session_terminate_success</a></li><li><a href="global.html#get_sid">get_sid</a></li><li><a href="global.html#get_status">get_status</a></li><li><a href="global.html#get_stun">get_stun</a></li><li><a href="global.html#get_to">get_to</a></li><li><a href="global.html#get_turn">get_turn</a></li><li><a href="global.html#get_user_media">get_user_media</a></li><li><a href="global.html#get_video_source">get_video_source</a></li><li><a href="global.html#got_description">got_description</a></li><li><a href="global.html#got_user_media_error">got_user_media_error</a></li><li><a href="global.html#got_user_media_success">got_user_media_success</a></li><li><a href="global.html#handle">handle</a></li><li><a href="global.html#handle_content_accept">handle_content_accept</a></li><li><a href="global.html#handle_content_add">handle_content_add</a></li><li><a href="global.html#handle_content_modify">handle_content_modify</a></li><li><a href="global.html#handle_content_reject">handle_content_reject</a></li><li><a href="global.html#handle_content_remove">handle_content_remove</a></li><li><a href="global.html#handle_description_info">handle_description_info</a></li><li><a href="global.html#handle_security_info">handle_security_info</a></li><li><a href="global.html#handle_session_accept">handle_session_accept</a></li><li><a href="global.html#handle_session_accept_error">handle_session_accept_error</a></li><li><a href="global.html#handle_session_accept_request">handle_session_accept_request</a></li><li><a href="global.html#handle_session_accept_success">handle_session_accept_success</a></li><li><a href="global.html#handle_session_info">handle_session_info</a></li><li><a href="global.html#handle_session_info_error">handle_session_info_error</a></li><li><a href="global.html#handle_session_info_request">handle_session_info_request</a></li><li><a href="global.html#handle_session_info_success">handle_session_info_success</a></li><li><a href="global.html#handle_session_initiate">handle_session_initiate</a></li><li><a href="global.html#handle_session_initiate_error">handle_session_initiate_error</a></li><li><a href="global.html#handle_session_initiate_request">handle_session_initiate_request</a></li><li><a href="global.html#handle_session_initiate_success">handle_session_initiate_success</a></li><li><a href="global.html#handle_session_terminate">handle_session_terminate</a></li><li><a href="global.html#handle_session_terminate_error">handle_session_terminate_error</a></li><li><a href="global.html#handle_session_terminate_request">handle_session_terminate_request</a></li><li><a href="global.html#handle_session_terminate_success">handle_session_terminate_success</a></li><li><a href="global.html#handle_transport_accept">handle_transport_accept</a></li><li><a href="global.html#handle_transport_info">handle_transport_info</a></li><li><a href="global.html#handle_transport_info_error">handle_transport_info_error</a></li><li><a href="global.html#handle_transport_info_success">handle_transport_info_success</a></li><li><a href="global.html#handle_transport_reject">handle_transport_reject</a></li><li><a href="global.html#handle_transport_replace">handle_transport_replace</a></li><li><a href="global.html#info">info</a></li><li><a href="global.html#initiate">initiate</a></li><li><a href="global.html#is_initiator">is_initiator</a></li><li><a href="global.html#is_responder">is_responder</a></li><li><a href="global.html#is_sdp_common_credentials">is_sdp_common_credentials</a></li><li><a href="global.html#join">join</a></li><li><a href="global.html#JSJAC_JINGLE_AVAILABLE">JSJAC_JINGLE_AVAILABLE</a></li><li><a href="global.html#JSJAC_JINGLE_SDP_CANDIDATE_TYPES">JSJAC_JINGLE_SDP_CANDIDATE_TYPES</a></li><li><a href="global.html#JSJAC_JINGLE_STORE_CONNECTION">JSJAC_JINGLE_STORE_CONNECTION</a></li><li><a href="global.html#listen">listen</a></li><li><a href="global.html#map_register_view">map_register_view</a></li><li><a href="global.html#map_unregister_view">map_unregister_view</a></li><li><a href="global.html#media">media</a></li><li><a href="global.html#media_generate">media_generate</a></li><li><a href="global.html#mute">mute</a></li><li><a href="global.html#name_generate">name_generate</a></li><li><a href="global.html#negotiation_status">negotiation_status</a></li><li><a href="global.html#network_extract_main">network_extract_main</a></li><li><a href="global.html#NS_JINGLE">NS_JINGLE</a></li><li><a href="global.html#object_clone">object_clone</a></li><li><a href="global.html#object_collect">object_collect</a></li><li><a href="global.html#object_length">object_length</a></li><li><a href="global.html#parse_candidate">parse_candidate</a></li><li><a href="global.html#parse_candidate_store">parse_candidate_store</a></li><li><a href="global.html#parse_group">parse_group</a></li><li><a href="global.html#parse_payload">parse_payload</a></li><li><a href="global.html#read">read</a></li><li><a href="global.html#register_handler">register_handler</a></li><li><a href="global.html#register_view">register_view</a></li><li><a href="global.html#relaynodes">relaynodes</a></li><li><a href="global.html#remove">remove</a></li><li><a href="global.html#resolution_payload">resolution_payload</a></li><li><a href="global.html#route">route</a></li><li><a href="global.html#send">send</a></li><li><a href="global.html#send_content_accept">send_content_accept</a></li><li><a href="global.html#send_content_add">send_content_add</a></li><li><a href="global.html#send_content_modify">send_content_modify</a></li><li><a href="global.html#send_content_reject">send_content_reject</a></li><li><a href="global.html#send_content_remove">send_content_remove</a></li><li><a href="global.html#send_description_info">send_description_info</a></li><li><a href="global.html#send_error">send_error</a></li><li><a href="global.html#send_security_info">send_security_info</a></li><li><a href="global.html#send_session_accept">send_session_accept</a></li><li><a href="global.html#send_session_info">send_session_info</a></li><li><a href="global.html#send_session_initiate">send_session_initiate</a></li><li><a href="global.html#send_session_terminate">send_session_terminate</a></li><li><a href="global.html#send_transport_accept">send_transport_accept</a></li><li><a href="global.html#send_transport_info">send_transport_info</a></li><li><a href="global.html#send_transport_reject">send_transport_reject</a></li><li><a href="global.html#send_transport_replace">send_transport_replace</a></li><li><a href="global.html#session">session</a></li><li><a href="global.html#set_accept_error">set_accept_error</a></li><li><a href="global.html#set_accept_pending">set_accept_pending</a></li><li><a href="global.html#set_accept_request">set_accept_request</a></li><li><a href="global.html#set_accept_success">set_accept_success</a></li><li><a href="global.html#set_bandwidth">set_bandwidth</a></li><li><a href="global.html#set_candidates_local">set_candidates_local</a></li><li><a href="global.html#set_candidates_queue_local">set_candidates_queue_local</a></li><li><a href="global.html#set_candidates_queue_remote">set_candidates_queue_remote</a></li><li><a href="global.html#set_candidates_remote">set_candidates_remote</a></li><li><a href="global.html#set_candidates_remote_add">set_candidates_remote_add</a></li><li><a href="global.html#set_content_local">set_content_local</a></li><li><a href="global.html#set_content_remote">set_content_remote</a></li><li><a href="global.html#set_creator">set_creator</a></li><li><a href="global.html#set_debug">set_debug</a></li><li><a href="global.html#set_fps">set_fps</a></li><li><a href="global.html#set_group_local">set_group_local</a></li><li><a href="global.html#set_group_remote">set_group_remote</a></li><li><a href="global.html#set_handlers">set_handlers</a></li><li><a href="global.html#set_id">set_id</a></li><li><a href="global.html#set_info_error">set_info_error</a></li><li><a href="global.html#set_info_request">set_info_request</a></li><li><a href="global.html#set_info_success">set_info_success</a></li><li><a href="global.html#set_initiate_error">set_initiate_error</a></li><li><a href="global.html#set_initiate_request">set_initiate_request</a></li><li><a href="global.html#set_initiate_success">set_initiate_success</a></li><li><a href="global.html#set_initiator">set_initiator</a></li><li><a href="global.html#set_local_stream">set_local_stream</a></li><li><a href="global.html#set_local_view">set_local_view</a></li><li><a href="global.html#set_lock">set_lock</a></li><li><a href="global.html#set_media">set_media</a></li><li><a href="global.html#set_media_busy">set_media_busy</a></li><li><a href="global.html#set_mute">set_mute</a></li><li><a href="global.html#set_name">set_name</a></li><li><a href="global.html#set_net_trace">set_net_trace</a></li><li><a href="global.html#set_payloads_local">set_payloads_local</a></li><li><a href="global.html#set_payloads_remote">set_payloads_remote</a></li><li><a href="global.html#set_payloads_remote_add">set_payloads_remote_add</a></li><li><a href="global.html#set_peer_connection">set_peer_connection</a></li><li><a href="global.html#set_reason">set_reason</a></li><li><a href="global.html#set_received_id">set_received_id</a></li><li><a href="global.html#set_remote_stream">set_remote_stream</a></li><li><a href="global.html#set_remote_view">set_remote_view</a></li><li><a href="global.html#set_resolution">set_resolution</a></li><li><a href="global.html#set_responder">set_responder</a></li><li><a href="global.html#set_sdp_trace">set_sdp_trace</a></li><li><a href="global.html#set_senders">set_senders</a></li><li><a href="global.html#set_sent_id">set_sent_id</a></li><li><a href="global.html#set_session_initiate_pending">set_session_initiate_pending</a></li><li><a href="global.html#set_sid">set_sid</a></li><li><a href="global.html#set_status">set_status</a></li><li><a href="global.html#set_stun">set_stun</a></li><li><a href="global.html#set_terminate_error">set_terminate_error</a></li><li><a href="global.html#set_terminate_pending">set_terminate_pending</a></li><li><a href="global.html#set_terminate_request">set_terminate_request</a></li><li><a href="global.html#set_terminate_success">set_terminate_success</a></li><li><a href="global.html#set_to">set_to</a></li><li><a href="global.html#set_turn">set_turn</a></li><li><a href="global.html#set_video_source">set_video_source</a></li><li><a href="global.html#sound">sound</a></li><li><a href="global.html#stanza_from">stanza_from</a></li><li><a href="global.html#stanza_generate_content_local">stanza_generate_content_local</a></li><li><a href="global.html#stanza_generate_group_local">stanza_generate_group_local</a></li><li><a href="global.html#stanza_generate_jingle">stanza_generate_jingle</a></li><li><a href="global.html#stanza_generate_session_info">stanza_generate_session_info</a></li><li><a href="global.html#stanza_get_attribute">stanza_get_attribute</a></li><li><a href="global.html#stanza_get_element">stanza_get_element</a></li><li><a href="global.html#stanza_get_value">stanza_get_value</a></li><li><a href="global.html#stanza_jingle">stanza_jingle</a></li><li><a href="global.html#stanza_parse_candidate">stanza_parse_candidate</a></li><li><a href="global.html#stanza_parse_content">stanza_parse_content</a></li><li><a href="global.html#stanza_parse_group">stanza_parse_group</a></li><li><a href="global.html#stanza_parse_node">stanza_parse_node</a></li><li><a href="global.html#stanza_parse_payload">stanza_parse_payload</a></li><li><a href="global.html#stanza_safe">stanza_safe</a></li><li><a href="global.html#stanza_session_info">stanza_session_info</a></li><li><a href="global.html#stanza_set_attribute">stanza_set_attribute</a></li><li><a href="global.html#stanza_sid">stanza_sid</a></li><li><a href="global.html#stanza_terminate_reason">stanza_terminate_reason</a></li><li><a href="global.html#stanza_timeout">stanza_timeout</a></li><li><a href="global.html#stop">stop</a></li><li><a href="global.html#stream_attach">stream_attach</a></li><li><a href="global.html#stream_detach">stream_detach</a></li><li><a href="global.html#terminate">terminate</a></li><li><a href="global.html#timeout">timeout</a></li><li><a href="global.html#unmute">unmute</a></li><li><a href="global.html#unregister_handler">unregister_handler</a></li><li><a href="global.html#unregister_view">unregister_view</a></li><li><a href="global.html#WEBRTC_GET_MEDIA">WEBRTC_GET_MEDIA</a></li></ul>
</nav>

<br clear="both">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.2.2</a> on Wed Jun 11 2014 18:22:59 GMT+0200 (CEST)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
